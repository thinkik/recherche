(()=>{"use strict";const m=new WeakMap,t=new WeakMap,d=new WeakMap,b='show';const q=(s,r=document)=>r.querySelector(s),qa=(s,r=document)=>Array.from(r.querySelectorAll(s));class Modal{constructor(e,o={}){this._el=e;this._opts=o;this._backdrop=null;m.set(e,this);this._onEsc=i=>{if(i.key==='Escape'&&this._opts.keyboard!==false)this.hide()};e.addEventListener('click',i=>{if(i.target.closest('[data-bs-dismiss="modal"]'))this.hide()})}show(){this._el.style.display='block';this._el.removeAttribute('aria-hidden');this._el.setAttribute('aria-modal','true');this._el.classList.add(b);document.body.classList.add('modal-open');this._backdrop=document.createElement('div');this._backdrop.className='modal-backdrop fade show';document.body.appendChild(this._backdrop);document.addEventListener('keydown',this._onEsc)}hide(){this._el.classList.remove(b);this._el.style.display='none';this._el.setAttribute('aria-hidden','true');document.body.classList.remove('modal-open');if(this._backdrop){this._backdrop.remove();this._backdrop=null}document.removeEventListener('keydown',this._onEsc)}static getInstance(e){return m.get(e)||null}}class Tooltip{constructor(e,o={}){this._el=e;this._opts=o;this._tip=null;t.set(e,this);if(o.trigger!=='manual'){e.addEventListener('mouseenter',()=>this.show());e.addEventListener('mouseleave',()=>this.hide())}}setContent(c){const v=c&&c['.tooltip-inner'];if(v!=null)this._el.setAttribute('data-tooltip-content',v)}show(){if(this._tip)return;const txt=this._el.getAttribute('data-tooltip-content')||this._el.getAttribute('title');if(!txt)return;this._tip=document.createElement('div');this._tip.className='tooltip bs-tooltip-top show';this._tip.setAttribute('role','tooltip');this._tip.innerHTML=`<div class="tooltip-arrow"></div><div class="tooltip-inner"></div>`;this._tip.querySelector('.tooltip-inner').textContent=txt;document.body.appendChild(this._tip);const r=this._el.getBoundingClientRect(),tr=this._tip.getBoundingClientRect();this._tip.style.position='fixed';this._tip.style.left=`${Math.max(8,r.left+r.width/2-tr.width/2)}px`;this._tip.style.top=`${Math.max(8,r.top-tr.height-8)}px`}hide(){if(this._tip){this._tip.remove();this._tip=null}}dispose(){this.hide();t.delete(this._el)}static getInstance(e){return t.get(e)||null}}class Dropdown{constructor(e){this._btn=e;this._menu=e.nextElementSibling;d.set(e,this);e.addEventListener('click',i=>{i.preventDefault();i.stopPropagation();this.toggle()})}toggle(){if(!this._menu)return;const s=this._menu.classList.toggle(b);this._btn.setAttribute('aria-expanded',String(s))}hide(){if(this._menu){this._menu.classList.remove(b);this._btn.setAttribute('aria-expanded','false')}}static getInstance(e){return d.get(e)||null}}class Tab{constructor(e){this._el=e}show(){const p=this._el.closest('[role="tablist"],.nav');if(!p)return;qa('[data-bs-toggle="tab"],[data-bs-toggle="pill"]',p).forEach(t=>{t.classList.remove('active');t.setAttribute('aria-selected','false');const pane=q(t.getAttribute('data-bs-target'));if(pane){pane.classList.remove('show','active')}});this._el.classList.add('active');this._el.setAttribute('aria-selected','true');const pane=q(this._el.getAttribute('data-bs-target'));if(pane)pane.classList.add('show','active')}}document.addEventListener('click',e=>{const tgl=e.target.closest('[data-bs-toggle="modal"]');if(tgl){e.preventDefault();const x=q(tgl.getAttribute('data-bs-target'));if(x)(Modal.getInstance(x)||new Modal(x)).show();return}const dd=e.target.closest('[data-bs-toggle="dropdown"]');if(dd){(Dropdown.getInstance(dd)||new Dropdown(dd)).toggle();return}const tab=e.target.closest('[data-bs-toggle="tab"],[data-bs-toggle="pill"]');if(tab){e.preventDefault();new Tab(tab).show();return}if(!e.target.closest('.dropdown-menu'))qa('[data-bs-toggle="dropdown"]').forEach(btn=>{const i=Dropdown.getInstance(btn);if(i)i.hide()})});window.bootstrap={Modal,Tooltip,Dropdown,Tab};})();
